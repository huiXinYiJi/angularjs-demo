"use strict";angular.module("app",["ui.router","ngCookies","validation","ngAnimate"]).run(["$rootScope",function(t){t.im=function(){console.log("im")}}]),angular.module("app").config(["$provide",function(t){t.decorator("$http",["$delegate","$q",function(t,o){var i=t.get;return t.post=function(t,e,n){var r=o.defer();return i(t,{params:e}).then(function(t){r.resolve(t)},function(t){r.reject(t)}),{success:function(t){r.promise.then(t)},error:function(t){r.promise.then(null,t)}}},t}])}]),angular.module("app").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("main",{url:"/main",templateUrl:"view/main.html",controller:"mainCtrl"}).state("position",{url:"/position/:id",templateUrl:"view/position.html",controller:"positionCtrl"}).state("search",{url:"/search",templateUrl:"view/search.html",controller:"searchCtrl"}).state("login",{url:"/login",templateUrl:"view/login.html",controller:"loginCtrl"}).state("register",{url:"/register",templateUrl:"view/register.html",controller:"registerCtrl"}).state("me",{url:"/me",templateUrl:"view/me.html",controller:"meCtrl"}).state("post",{url:"/post",templateUrl:"view/post.html",controller:"postCtrl"}).state("favorite",{url:"/favorite",templateUrl:"view/favorite.html",controller:"favoriteCtrl"}),e.otherwise("main")}]),angular.module("app").config(["$validationProvider",function(t){t.setExpression({phone:/^1[\d]{10}/,password:function(t){return t&&5<t.length},required:function(t){return!!t}}).setDefaultMsg({phone:{success:"",error:"必须是11位手机号"},password:{success:"",error:"长度至少6位"},required:{success:"",error:"不能为空"}})}]),angular.module("app").controller("favoriteCtrl",["$http","$scope",function(t,e){}]),angular.module("app").controller("loginCtrl",["$state","$http","$scope",function(e,t,n){n.user={},n.submit=function(){t.post("data/positionList.json",n.user).success(function(t){e.go("me")})}}]),angular.module("app").controller("mainCtrl",["$http","$scope",function(t,e){t.get("/data/positionList.json").then(function(t){e.list=t.data},function(t){console.log(t)}),e.$watch("abc",function(t,e,n){})}]),angular.module("app").controller("meCtrl",["$http","$scope",function(t,e){}]),angular.module("app").controller("positionCtrl",["$q","$http","$state","$scope","$timeout","$interval","cache",function(t,e,n,r,o,i,a){var l;r.isLogin=!1,l=t.defer(),e.get("/data/positionList.json",{params:{id:n.params.id}}).then(function(t){r.$broadcast("selfFunc",{index:1}),l.resolve(t.data)},function(t){return l.reject(t)}),l.promise.then(function(t){},function(t){console.log("err",t)}),r.$on("upSelfFunc",function(t,e){}),o(function(){},3e3),i(function(){},2e3)}]),angular.module("app").controller("postCtrl",["$http","$scope",function(t,e){}]),angular.module("app").controller("registerCtrl",["$http","$scope",function(t,e){}]),angular.module("app").controller("searchCtrl",["limitToFilter","dict","$http","$scope",function(t,n,e,r){console.log(t([1,2,3,4],3)),r.name="",r.search=function(){e.get("/data/positionList.json",{params:{name:r.name}}).then(function(t){r.positionList=t.data},function(t){console.log(t)})},r.search(),r.sheet={},r.tabList=[{id:"city",name:"城市"},{id:"salary",name:"薪水"},{id:"scale",name:"公司规模"}];var o="";r.filterObj={},r.tClick=function(t,e){o=t,r.sheet.list=n[t],r.sheet.visible=!0},r.sClick=function(t,e){console.log(t,e),1!==t?(angular.forEach(r.tabList,function(t){t.id===o&&(t.name=e)}),r.filterObj.id=t):(delete r.filterObj.id,angular.forEach(r.tabList,function(t){t.id===o&&(t.name="城市")}))}}]),angular.module("app").directive("appCompany",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/company.html",scope:{data:"="}}}]),angular.module("app").directive("appFoot",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/foot.html"}}]),angular.module("app").directive("appHead",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/head.html"}}]),angular.module("app").directive("appHeadBar",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/headBar.html",scope:{text:"@"},link:function(t,e,n){t.back=function(){window.history.back()},t.$on("selfFunc",function(t,e){}),t.$emit("upSelfFunc",{name:12})}}}]),angular.module("app").directive("appPositionInfo",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/positionInfo.html",scope:{isActive:"=",isLogin:"=",infoData:"="},link:function(t){}}}]),angular.module("app").directive("appPositionList",[function(){return{restrict:"A",replace:!0,templateUrl:"view/template/positionList.html",scope:{data:"=",filterObj:"="}}}]),angular.module("app").directive("appSheet",[function(t){return{restrict:"A",replace:!0,templateUrl:"view/template/sheet.html",scope:{list:"=",visible:"=",select:"&"},link:function(t){}}}]),angular.module("app").directive("appTab",[function(t){return{restrict:"A",replace:!0,templateUrl:"view/template/tab.html",scope:{tabClick:"&",list:"="},link:function(e){e.click=function(t){e.selectId=t.id,e.tabClick({id:t.id,name:t.name})}}}}]),angular.module("app").filter("filterByObj",[function(){return function(t,r){var o=[];return angular.forEach(t,function(t){var e,n=!0;for(e in r)t[e]!==r[e]&&(n=!1);n&&o.push(t)}),o}}]),angular.module("app").factory("cache",["$cookies",function(n){return{put:function(t,e){n.put(t,e)},get:function(t){return n.get(t)},remove:function(t){n.remove(t)}}}]),angular.module("app").service("dict",["$http",function(t){this.city=[{id:1,name:"不限"},{id:2,name:"少于50人"},{id:3,name:"50~100人"},{id:4,name:"100~500人"},{id:5,name:"500人以上"}],this.salary=[],this.scale=[]}]);